<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Team 1 â€“ Final Code</title>
  <style>
    html, body { width:100%; height:100%; margin:0; padding:0; box-sizing:border-box; }
    body {
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      background:#eef4ff;
      font-family:Arial, sans-serif; text-align:center;
    }
    h1 { font-size: 1.8rem; margin-bottom: 0.8rem; }
    #inputs {
      display:flex; gap:0.3rem; margin-bottom:1.4rem; justify-content:center;
    }
    input {
      width:2.3rem; height:2.3rem;
      font-size:16px;
      text-align:center; text-transform:uppercase;
      border:2px solid #b0c4ff; border-radius:6px;
    }
    #win{display:none;font-size:1.8rem;color:#28a745;}
    #error{display:none;color:#d9534f;margin-top:1rem;font-weight:bold;}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1"></script>
</head>
<body>
  <h1 id="title">Enter the Final Code</h1>
  <div id="inputs">
    <input maxlength="1"/><input maxlength="1"/><input maxlength="1"/>
    <input maxlength="1"/><input maxlength="1"/><input maxlength="1"/>
  </div>
  <div id="win">ðŸŽ‰ Congratulations, you win!!! ðŸŽ‰</div>
  <div id="error">Wrong code, try again!</div>
<script>
const ANSWER = "TBTIWN".toLowerCase();
const DURATION = 5000;
const boxes = document.querySelectorAll("#inputs input");
const error = document.getElementById("error");
const title = document.getElementById("title");
const win = document.getElementById("win");

boxes.forEach((box, idx) => {
  box.addEventListener("input", () => {
    if(box.value && idx < boxes.length-1) boxes[idx+1].focus();
    check();
  });
  box.addEventListener("keydown", e=>{
    if(e.key==="Backspace" && !box.value && idx>0) boxes[idx-1].focus();
  });
});

function check(){
  const attempt=[...boxes].map(b=>b.value.toLowerCase()).join("");
  if(attempt.length===ANSWER.length){
    if(attempt===ANSWER){ celebrate(); }
    else error.style.display="block";
  } else { error.style.display="none"; }
}

function celebrate(){
  document.getElementById("inputs").style.display="none";
  title.style.display="none";
  error.style.display="none";
  win.style.display="block";
  const end=Date.now()+DURATION;
  (function frame(){
    confetti({particleCount:4,angle:60,spread:55,origin:{x:0}});
    confetti({particleCount:4,angle:120,spread:55,origin:{x:1}});
    if(Date.now()<end) requestAnimationFrame(frame);
  })();
}
</script>
</body>
</html>
